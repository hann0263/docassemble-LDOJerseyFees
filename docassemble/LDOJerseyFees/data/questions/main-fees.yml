---
objects:
  provision: DAList.using(object_type=Thing, there_are_any=True)
---
# welcome screen
mandatory: True
question: Welcome
subquestion: |
  This tool will help you to prepare instructions for Orders that amend fees.
  
  You **should** use this tool if:
  
  *  You are preparing instructions to change the amount of an existing fee (or fees); and
  *  The fee can be amended by Order.
  
  You **should not** use this tool if:
  
  *  You are creating a new fee regime; or
  *  The fee you wish to change cannot be amended by Order (because, for example, it needs to be done by Regulations or an amendment Law).
  
  Before starting, you will need to know:
  
  * The legislation that sets the fee you wish to amend;
  * The legislation that allows the fee to be set or amended;
  * The current amount of the fee;
  * The new amount of the fee; and
  * The reason for the change.
  
buttons:
 - "Get started": continue
 - "Exit": exit
   url: https://www.gov.je/Government/NonexecLegal/StatesGreffe/Pages/LegislativeDraftingOffice.aspx
---
# initial details screen
mandatory: True
question: General information about the proposed Order
fields:
  - Instructing Officer Name: FeesIOName
  - Email: FeesContactEmail
  - Minister who will sign the Order: FeesSigningMinister
    hint: select from the list
    choices:
    # this can be a data file later
    - Chief Minister
    - Minister for Children and Education
    - Minister for Economic Development, Tourism, Sport and Culture
    - Minister for the Environment
    - Minister for External Relations and Financial Services
    - Minister for Health and Social Services
    - Minister for Home Affairs
    - Minister for Housing and Communities
    - Minister for Infrastructure
    - Minister for International Development
    - Minister for Social Security
    - Minister for Treasury and Resources
    - Other
  - Type who will sign: FeesSigningMinister
    show if:
      variable: FeesSigningMinister
      is: 'Other'
  - Proposed commencement date: FeesCommencement
---
# possible single instrument details screen - would need looping later
question: Details of Order to be amended
fields:
  - Select instrument to be amended: FeesTargetOrder
    hint: select from the list
    choices:
    # this can be a data file later
    - Sample Order 1
    - Sample Order 2
    - Sample Order 3
    - Other
  - Type the full instrument citation: FeesTargetOrder
    show if:
      variable: FeesTargetOrder
      is: 'Other'
---
mandatory: True
code: |
  provision.appendObject()
---
question: |
  Provisions to be amended
fields:
  - Provision to be amended: provision[i].name.text
  - Fee to be deleted: provision[i].feenow
  - Fee to be inserted: provision[i].feelater
list collect: True
---
mandatory: True
question: |
  Summary for ${ FeesTargetOrder }
subquestion: |
  ${ provision.table }
  
  ${ provision.add_action() }
---
table: provision.table
rows: provision
columns:
  - Provision: row_item.name
  - Fee to be deleted: row_item.feenow
  - Fee to be inserted: row_item.feelater
edit:
  - name.text
allow reordering: True
---